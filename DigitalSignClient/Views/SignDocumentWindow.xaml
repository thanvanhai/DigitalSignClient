<Window x:Class="DigitalSignClient.Views.SignDocumentWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="Ký tài liệu PDF"
        Height="900" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#f7f7f7">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- ======== TOOLBAR ======== -->
        <Border Grid.Row="0" 
                Background="White" 
                BorderBrush="#DDDDDD" 
                BorderThickness="0,0,0,1"
                Padding="10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="BtnToggleInk" 
                        Content="✍️ Bật ký tay" 
                        Width="110" 
                        Height="36"
                        Margin="5"
                        FontSize="13"
                        Click="BtnToggleInk_Click"
                         Background="#2196F3" 
          Foreground="White"
          BorderBrush="#2196F3"
          FontWeight="Bold"/>
                <Button x:Name="BtnClear" 
                        Content="🗑️ Xóa" 
                        Width="80" 
                        Height="36"
                        Margin="5"
                        FontSize="13"
                        Click="BtnClear_Click"
                         Background="White" 
          BorderBrush="#CCCCCC"/>
                
                <Button x:Name="BtnConfirm" 
                        Content="✅ Xác nhận" 
                        Width="110" 
                        Height="36"
                        Margin="5"
                        FontSize="13"
                         Background="#4CAF50" 
          Foreground="White" 
          BorderBrush="#4CAF50" 
          FontWeight="Bold"
                        Click="BtnConfirm_Click"/>
                <Button x:Name="BtnClose" 
                        Content="❌ Đóng" 
                        Width="80" 
                        Height="36"
                        Margin="5"
                        FontSize="13"
                         Background="#F44336" 
          Foreground="White" 
          BorderBrush="#F44336"
                        Click="BtnClose_Click"/>
            </StackPanel>
        </Border>

        <!-- ======== CONTENT AREA ======== -->
        <Grid Grid.Row="1">
            <!-- ======== PDF VIEWER ======== -->
            <wv2:WebView2 x:Name="PdfViewer"
                          Margin="10"
                          Visibility="Visible"
                          Panel.ZIndex="0"/>

            <!-- ======== ẢNH CHỤP PDF (hiện khi ký tay) ======== -->
            <Image x:Name="PdfSnapshot"
                   Margin="10"
                   Stretch="Uniform"
                   Visibility="Collapsed"
                   Panel.ZIndex="1"/>

            <!-- ======== INK CANVAS KÝ TAY ======== -->
            <InkCanvas x:Name="InkArea"
                       Margin="10"
                       Background="#01FFFFFF"
                       Visibility="Collapsed"
                       Panel.ZIndex="2"/>

            <!-- ======== PANEL HƯỚNG DẪN ======== -->
            <Border x:Name="InstructionPanel"
                    Background="#AA000000"
                    CornerRadius="10"
                    Padding="12"
                    Panel.ZIndex="10"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Bottom"
                    Margin="0,0,0,20"
                    Visibility="Collapsed">
                <TextBlock x:Name="InstructionText"
                           Text="Hướng dẫn hiển thị ở đây"
                           Foreground="White"
                           FontSize="14"
                           TextAlignment="Center"/>
            </Border>
        </Grid>
    </Grid>
</Window>